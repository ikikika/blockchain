{"ast":null,"code":"import _regeneratorRuntime from \"/Users/krishnakulkarni/Documents/CodeXpert/GIT_test/Tron_TRC20/CodeXpert-Tron-DApp-Template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/krishnakulkarni/Documents/CodeXpert/GIT_test/Tron_TRC20/CodeXpert-Tron-DApp-Template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/krishnakulkarni/Documents/CodeXpert/GIT_test/Tron_TRC20/CodeXpert-Tron-DApp-Template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/krishnakulkarni/Documents/CodeXpert/GIT_test/Tron_TRC20/CodeXpert-Tron-DApp-Template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/krishnakulkarni/Documents/CodeXpert/GIT_test/Tron_TRC20/CodeXpert-Tron-DApp-Template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/krishnakulkarni/Documents/CodeXpert/GIT_test/Tron_TRC20/CodeXpert-Tron-DApp-Template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/krishnakulkarni/Documents/CodeXpert/GIT_test/Tron_TRC20/CodeXpert-Tron-DApp-Template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/krishnakulkarni/Documents/CodeXpert/GIT_test/Tron_TRC20/CodeXpert-Tron-DApp-Template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/krishnakulkarni/Documents/CodeXpert/GIT_test/Tron_TRC20/CodeXpert-Tron-DApp-Template/src/components/App/index.js\";\nimport React from 'react';\nimport TronLinkGuide from 'components/TronLinkGuide';\nimport TronWeb from 'tronweb';\nimport Utils from 'utils';\nimport Swal from 'sweetalert2';\nimport './App.scss';\nvar FOUNDATION_ADDRESS = 'TWiWt5SEDzaEqS6kE5gandWMNfxR2B5xzg';\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      balance: 0,\n      getbalanceaddress: '',\n      transferaddress: '',\n      transferamount: '',\n      tronWeb: {\n        installed: false,\n        loggedIn: false\n      }\n    };\n    _this.updateGetBalanceInputValue = _this.updateGetBalanceInputValue.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateTransferInputValue = _this.updateTransferInputValue.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateTransferAmountInputValue = _this.updateTransferAmountInputValue.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.setState({\n                  loading: true\n                });\n                _context.next = 3;\n                return new Promise(function (resolve) {\n                  var tronWebState = {\n                    installed: !!window.tronWeb,\n                    loggedIn: window.tronWeb && window.tronWeb.ready\n                  };\n\n                  if (tronWebState.installed) {\n                    _this2.setState({\n                      tronWeb: tronWebState\n                    });\n\n                    return resolve();\n                  }\n\n                  var tries = 0;\n                  var timer = setInterval(function () {\n                    if (tries >= 10) {\n                      var TRONGRID_API = 'https://api.trongrid.io';\n                      window.tronWeb = new TronWeb(TRONGRID_API, TRONGRID_API, TRONGRID_API);\n\n                      _this2.setState({\n                        tronWeb: {\n                          installed: false,\n                          loggedIn: false\n                        }\n                      });\n\n                      clearInterval(timer);\n                      return resolve();\n                    }\n\n                    tronWebState.installed = !!window.tronWeb;\n                    tronWebState.loggedIn = window.tronWeb && window.tronWeb.ready;\n                    if (!tronWebState.installed) return tries++;\n\n                    _this2.setState({\n                      tronWeb: tronWebState\n                    });\n\n                    resolve();\n                  }, 100);\n                });\n\n              case 3:\n                if (!this.state.tronWeb.loggedIn) {\n                  // Set default address (foundation address) used for contract calls\n                  // Directly overwrites the address object as TronLink disabled the\n                  // function call\n                  window.tronWeb.defaultAddress = {\n                    hex: window.tronWeb.address.toHex(FOUNDATION_ADDRESS),\n                    base58: FOUNDATION_ADDRESS\n                  };\n                  window.tronWeb.on('addressChanged', function () {\n                    if (_this2.state.tronWeb.loggedIn) return;\n\n                    _this2.setState({\n                      tronWeb: {\n                        installed: true,\n                        loggedIn: true\n                      }\n                    });\n                  });\n                }\n\n                _context.next = 6;\n                return Utils.setTronWeb(window.tronWeb);\n\n              case 6:\n                _context.t0 = console;\n                _context.t1 = Utils.tronWeb.address;\n                _context.next = 10;\n                return Utils.tronWeb.trx.getAccount();\n\n              case 10:\n                _context.t2 = _context.sent.address.toString();\n                _context.t3 = _context.t1.fromHex.call(_context.t1, _context.t2);\n\n                _context.t0.log.call(_context.t0, _context.t3);\n\n                _context.t4 = console;\n                _context.next = 16;\n                return Utils.tronWeb.trx.getBalance();\n\n              case 16:\n                _context.t5 = _context.sent;\n\n                _context.t4.log.call(_context.t4, _context.t5);\n\n              case 18:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"updateContractAddressInput\",\n    value: function updateContractAddressInput(evt) {\n      console.log('transferamount : ', this.state.transferamount);\n      this.setState({\n        transferamount: evt.target.value\n      });\n    } /////////////////////////////////////// GET BALANCE /////////////////////////////////\n\n  }, {\n    key: \"getBalance\",\n    value: function () {\n      var _getBalance = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(_getbalanceaddress) {\n        var balance;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Utils.contract.balanceOf(_getbalanceaddress).call();\n\n              case 2:\n                _context2.t0 = _context2.sent.toNumber();\n                balance = _context2.t0 / 100000000;\n                //const balance = await Utils.contract.decimals().call();\n                console.log('balance', balance);\n                this.setState({\n                  balance: balance\n                });\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function getBalance(_x) {\n        return _getBalance.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"updateGetBalanceInputValue\",\n    value: function updateGetBalanceInputValue(evt) {\n      console.log('getbalanceaddress : ', this.state.getbalanceaddress);\n      this.setState({\n        getbalanceaddress: evt.target.value\n      });\n    } /////////////////////////////////////// GET BALANCE END /////////////////////////////////\n    /////////////////////////////////// TRANSFER /////////////////////////////\n\n  }, {\n    key: \"Transfer\",\n    value: function Transfer(_to, _amount) {\n      Utils.contract.transfer(_to, _amount).send({\n        shouldPollResponse: true,\n        callValue: 0\n      }).then(function (res) {\n        return Swal({\n          title: 'Transfer Successful',\n          type: 'success'\n        });\n      }).catch(function (err) {\n        return Swal({\n          title: 'Transfer Failed',\n          type: 'error'\n        });\n      });\n    }\n  }, {\n    key: \"updateTransferInputValue\",\n    value: function updateTransferInputValue(evt) {\n      console.log('transferaddress : ', this.state.transferaddress);\n      this.setState({\n        transferaddress: evt.target.value\n      });\n    }\n  }, {\n    key: \"updateTransferAmountInputValue\",\n    value: function updateTransferAmountInputValue(evt) {\n      console.log('transferamount : ', this.state.transferamount);\n      this.setState({\n        transferamount: evt.target.value\n      });\n    } /////////////////////////////////// TRANSFER END /////////////////////////////\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (!this.state.tronWeb.installed) return React.createElement(TronLinkGuide, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      });\n      if (!this.state.tronWeb.loggedIn) return React.createElement(TronLinkGuide, {\n        installed: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-12 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"CodeXpert Coin Management Platform\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        style: {\n          width: \"400px\"\n        },\n        value: Utils.contractAddress,\n        onChange: this.updateContractAddressInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        style: {\n          width: \"400px\"\n        },\n        value: this.state.getbalanceaddress,\n        onChange: this.updateGetBalanceInputValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick(event) {\n          event.preventDefault();\n\n          _this3.getBalance(_this3.state.getbalanceaddress);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"Get Balance\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Your balance is : \", this.state.balance), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \" To : \"), React.createElement(\"input\", {\n        style: {\n          width: \"400px\"\n        },\n        value: this.state.transferaddress,\n        onChange: this.updateTransferInputValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \" Amount : \"), React.createElement(\"input\", {\n        style: {\n          width: \"200px\"\n        },\n        value: this.state.transferamount,\n        onChange: this.updateTransferAmountInputValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick(event) {\n          event.preventDefault();\n\n          _this3.Transfer(_this3.state.transferaddress, _this3.state.transferamount * 100000000);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Transfer\")));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/krishnakulkarni/Documents/CodeXpert/GIT_test/Tron_TRC20/CodeXpert-Tron-DApp-Template/src/components/App/index.js"],"names":["React","TronLinkGuide","TronWeb","Utils","Swal","FOUNDATION_ADDRESS","App","props","state","balance","getbalanceaddress","transferaddress","transferamount","tronWeb","installed","loggedIn","updateGetBalanceInputValue","bind","updateTransferInputValue","updateTransferAmountInputValue","setState","loading","Promise","resolve","tronWebState","window","ready","tries","timer","setInterval","TRONGRID_API","clearInterval","defaultAddress","hex","address","toHex","base58","on","setTronWeb","console","trx","getAccount","toString","fromHex","log","getBalance","evt","target","value","_getbalanceaddress","contract","balanceOf","call","toNumber","_to","_amount","transfer","send","shouldPollResponse","callValue","then","res","title","type","catch","err","width","contractAddress","updateContractAddressInput","event","preventDefault","Transfer","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport TronLinkGuide from 'components/TronLinkGuide';\nimport TronWeb from 'tronweb';\nimport Utils from 'utils';\nimport Swal from 'sweetalert2';\n\nimport './App.scss';\n\nconst FOUNDATION_ADDRESS = 'TWiWt5SEDzaEqS6kE5gandWMNfxR2B5xzg';\n\nclass App extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            balance: 0,\n            getbalanceaddress: '',\n            transferaddress: '',\n            transferamount: '',\n\n              tronWeb: {\n                  installed: false,\n                  loggedIn: false\n              },\n            }\n        this.updateGetBalanceInputValue = this.updateGetBalanceInputValue.bind(this)\n        this.updateTransferInputValue = this.updateTransferInputValue.bind(this)\n        this.updateTransferAmountInputValue = this.updateTransferAmountInputValue.bind(this)\n\n    }\n\n    async componentDidMount() {\n\n        this.setState({loading:true})\n        await new Promise(resolve => {\n            const tronWebState = {\n                installed: !!window.tronWeb,\n                loggedIn: window.tronWeb && window.tronWeb.ready\n            };\n\n            if(tronWebState.installed) {\n                this.setState({\n                    tronWeb:\n                    tronWebState\n                });\n\n                return resolve();\n            }\n\n            let tries = 0;\n\n            const timer = setInterval(() => {\n                if(tries >= 10) {\n                    const TRONGRID_API = 'https://api.trongrid.io';\n\n                    window.tronWeb = new TronWeb(\n                        TRONGRID_API,\n                        TRONGRID_API,\n                        TRONGRID_API\n                    );\n\n                    this.setState({\n                        tronWeb: {\n                            installed: false,\n                            loggedIn: false\n                        }\n                    });\n\n                    clearInterval(timer);\n                    return resolve();\n                }\n\n                tronWebState.installed = !!window.tronWeb;\n                tronWebState.loggedIn = window.tronWeb && window.tronWeb.ready;\n\n                if(!tronWebState.installed)\n                    return tries++;\n\n                this.setState({\n                    tronWeb: tronWebState\n                });\n\n                resolve();\n            }, 100);\n        });\n\n        if(!this.state.tronWeb.loggedIn) {\n            // Set default address (foundation address) used for contract calls\n            // Directly overwrites the address object as TronLink disabled the\n            // function call\n            window.tronWeb.defaultAddress = {\n                hex: window.tronWeb.address.toHex(FOUNDATION_ADDRESS),\n                base58: FOUNDATION_ADDRESS\n            };\n\n            window.tronWeb.on('addressChanged', () => {\n                if(this.state.tronWeb.loggedIn)\n                    return;\n\n                this.setState({\n                    tronWeb: {\n                        installed: true,\n                        loggedIn: true\n                    }\n                });\n            });\n        }\n        await Utils.setTronWeb(window.tronWeb);\n        console.log(Utils.tronWeb.address.fromHex((((await Utils.tronWeb.trx.getAccount()).address).toString())));  /////// Get account address and info\n        console.log(await Utils.tronWeb.trx.getBalance());\n    }\n\n    updateContractAddressInput (evt) {\n        console.log('transferamount : ', this.state.transferamount);\n            this.setState({\n              transferamount: evt.target.value\n            });\n    }\n\n    /////////////////////////////////////// GET BALANCE /////////////////////////////////\n    async getBalance(_getbalanceaddress){\n        const balance = ((await Utils.contract.balanceOf(_getbalanceaddress).call()).toNumber())/100000000;\n        //const balance = await Utils.contract.decimals().call();\n        console.log('balance', balance);\n\n            this.setState({balance:balance})\n\n    }\n    updateGetBalanceInputValue (evt) {\n        console.log('getbalanceaddress : ', this.state.getbalanceaddress);\n            this.setState({\n              getbalanceaddress: evt.target.value\n            });\n    }\n    /////////////////////////////////////// GET BALANCE END /////////////////////////////////\n\n    /////////////////////////////////// TRANSFER /////////////////////////////\n    Transfer(_to, _amount){\n\n        Utils.contract.transfer(_to, _amount).send({\n            shouldPollResponse: true,\n            callValue: 0\n        }).then(res => Swal({\n            title:'Transfer Successful',\n            type: 'success'\n        })).catch(err => Swal({\n            title:'Transfer Failed',\n            type: 'error'\n\n        }));\n\n    }\n\n    updateTransferInputValue (evt) {\n    console.log('transferaddress : ', this.state.transferaddress);\n        this.setState({\n          transferaddress: evt.target.value\n        });\n    }\n\n    updateTransferAmountInputValue (evt) {\n        console.log('transferamount : ', this.state.transferamount);\n            this.setState({\n              transferamount: evt.target.value\n            });\n    }\n    /////////////////////////////////// TRANSFER END /////////////////////////////\n\n\n\n\n    render() {\n        if(!this.state.tronWeb.installed)\n            return <TronLinkGuide />;\n\n        if(!this.state.tronWeb.loggedIn)\n            return <TronLinkGuide installed />;\n\n        return (\n              <div className='row'>\n                <div className='col-lg-12 text-center' >\n                  <hr/>\n                  <h1>CodeXpert Coin Management Platform</h1>\n                  <hr/>\n                  <br/>\n                  <br/>\n                  <input style={{ width:\"400px\" }} value={Utils.contractAddress} onChange={this.updateContractAddressInput}/>\n                  <br/>\n                  <br/>\n                  <input style={{ width:\"400px\" }} value={this.state.getbalanceaddress} onChange={this.updateGetBalanceInputValue}/>\n                  <br/>\n                  <br/>\n                  <button className='btn btn-primary' onClick={(event) => {\n                                                                       event.preventDefault()\n                                                                       this.getBalance(this.state.getbalanceaddress)\n                                                                     }  }>Get Balance\n                  </button>\n                  <br/>\n                  <br/>\n                  <p>Your balance is : {this.state.balance}</p>\n                  <br/>\n                  <hr/>\n                  <p> To : </p>\n                  <input style={{ width:\"400px\" }} value={this.state.transferaddress} onChange={this.updateTransferInputValue}/>\n                  <p> Amount : </p>\n                  <input style={{ width:\"200px\" }} value={this.state.transferamount} onChange={this.updateTransferAmountInputValue}/>\n                  <br/>\n                  <br/>\n                  <button className='btn btn-primary' onClick={(event) => {\n                                                                       event.preventDefault()\n                                                                       this.Transfer(this.state.transferaddress, this.state.transferamount*100000000)\n                                                                     }  }>Transfer\n                  </button>\n                </div>\n              </div>\n        );\n    }\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}